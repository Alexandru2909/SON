<!DOCTYPE html>
<html>
    <title>The SON</title>
    <meta charset="UTF-8">
    <meta name="description" content="Page created for the STAW project SON">
    <link rel="stylesheet" type="text/css" href="new_index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="main.js"></script>
    <html lang="en">
    <style>
        body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
    </style>
    <nav>
        <img src="user_avatar.png" id="avatar" alt="Your avatar"/>
        <h2>Welcome, NAME!</h2>
        <a href="#acquaintances">
            <h3>Acquaintances</h3>
        </a>
        <a href="#friends">
            <h3>Friends</h3>    
        </a>
        <a href="#links">
            <h3>Linked accounts</h3>
        </a>
    </nav>
    
    <body>
        <div class="main" style="margin-left: 21%;">

            <div class="page" id="acquaintances">
                <header>
                    <span class="sidebar_icon" onclick="open_sidebar()"><i class="fa fa-bars"></i></span>
                    <div class="container">
                        <h1><b>Sugested friends</b></h1>
                        <div class="search_container">
                            <input type="text" placeholder="Search...">
                            <div class="search"></div>
                        </div>
                        <br>
                        <div class="search_filter bottombar">
                            <span class="filter">Filter:</span>
                            <button class="filter-button white">All</button>
                            <div class="filter-select city">
                            <select>
                                <option value="0">City</option>
                            </select>
                            </div>
                            <div class="filter-select age">
                            <select>
                                <option value="0">Age</option>
                                <option>&#60; 18</option>
                                <option>&#60; 30</option>
                                <option>&#60; 50</option>
                                <option>&#62; 50</option>
                            </select>
                            </div>
                        </div>
                    </div>
                </header>
                <div class="row-padding">
                    <div class="user_profile">
                        <img src = "" style="width:100%">
                        <div class="user_info">
                            <p><b>Name</b></p>
                            <p>Info</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page" id="friends">
                <header>
                    <span class="sidebar_icon" onclick="open_sidebar()"><i class="fa fa-bars"></i></span>
                    <div class="container">
                        <h1><b>Friends</b></h1>
                        <div class="search_filter bottombar">
                            <input type="text" placeholder="Search...">
                            <br>
                            <span class="margin-right">Filter:</span>
                            <button class="all">All</button>
                            <div class="filter-select-city">
                            <select>
                                <option value="0">City</option>
                            </select>
                            </div>
                            <div class="filter-select-age">
                            <select>
                                <option value="0">Age</option>
                                <option value="1">&#60; 18</option>
                                <option value="2">&#60; 30</option>
                                <option value="3">&#60; 50</option>
                                <option value="4">&#62; 50</option>
                            </select>
                            </div>
                        </div>
                    </div>
                </header>
                <div class="row-padding">
                    <div class="user_profile">
                        <img src = "" style="width:100%">
                        <div class="user_info">
                            <p><b>Name</b></p>
                            <p>Info</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page" id="links">
                <header>
                    <span class="sidebar_icon" onclick="open_sidebar()"><i class="fa fa-bars"></i></span>
                    <div class="container">
                        <h1><b>Accounts</b></h1>
                    </div>
                </header>
                <div class="row-padding">
                    <div class="site_profile">
                        <img src="img/gmail.svg"">
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="site_profile">
                        <img src="img/lastfm.svg"">
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="site_profile">
                        <img src="img/linkedin.svg"">
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="site_profile">
                        <img src="img/steam.svg"">
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="site_profile">
                        <img src="img/twitter.svg"">
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>


        </div>
    </body>
</html>

<script>
    customSelect("filter-select age");
    customSelect("filter-select city");
    function customSelect(selectClassName){
        var select, i, j, setElement, selectedItem, optionList, option;
        select = document.getElementsByClassName(selectClassName)
        for(i = 0; i< select.length; i++){
            setElement = select[i].getElementsByTagName("select")[0];
            selectedItem = document.createElement("DIV");
            selectedItem.setAttribute("class", "select-selected");
            selectedItem.innerHTML = setElement.options[setElement.selectedIndex].innerHTML;
            select[i].appendChild(selectedItem);

            optionList = document.createElement("DIV");
            optionList.setAttribute("class", "select-items select-hide");
            for(j = 1; j < setElement.length; j++){
                option = document.createElement("DIV");
                option.innerHTML = setElement.options[j].innerHTML;
                option.addEventListener("click", function(e) {
                    var y, i, k, s, h;
                    s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                    h = this.parentNode.previousSibling;
                    for(i = 0; i<s.length; s++){
                        if(s.options[i].innerHTML == this.innerHTML) {
                            s.selectedIndex = i;
                            h.innerHTML = this.innerHTML;
                            y = this.parentNode.getElementsByClassName("same-as-selected");
                            for(k = 0; k < y.length; k++){
                                y[k].removeAttribute("class");
                            }
                            this.setAttribute("class", "same-as-selected");
                            break;
                        }
                    }
                    h.click();
                });
                optionList.appendChild(option);
            }
            select[i].appendChild(optionList);
            selectedItem.addEventListener("click", function(e){
                e.stopPropagation();
                closeAllSelect(this);
                this.nextSibling.classList.toggle("select-hide");
                this.classList.toggle("select-arrow-active");
            });
        }

        function closeAllSelect(element){
            var x, y, i, arrNo = [];
            x = document.getElementsByClassName("select-items");
            y = document.getElementsByClassName("select-selected");
            for(i = 0; i < y.length; i++){
                if(element == y[i]){
                    arrNo.push(i);
                } else {
                    y[i].classList.remove("select-arrow-active");
                }
            }

            for(i = 0; i<x.length; i++){
                if(arrNo.indexOf(i)){
                    x[i].classList.add("select-hide");
                }
            }
        }
        document.addEventListener("click", closeAllSelect);
    }
</script>