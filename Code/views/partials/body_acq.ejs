
    <div class="main" style="margin-left: 21%;">
       
        <div class="page">
            <header>
                <span class="sidebar_icon" onclick="open_sidebar()"><i class="fa fa-bars"></i></span>
                <div class="container">
                    <h1><b>Sugested friends</b></h1>
                    <div class="search_container">
                        <input type="text" placeholder="Search...">
                        <div class="search"></div>
                    </div>
                    <br>
                    <div class="search_filter bottombar">
                        <span class="filter">Filter:</span>
                        <button class="filter-button white" onclick="resetFilter()">All</button>
                        <div class="filter-select city">
                        <select>
                            <option value="0">City</option>
                            <option value="1">Bacau</option>
                        </select>
                        </div>
                        <div class="filter-select age">
                        <select>
                            <option value="0">Age</option>
                            <option>&#60; 18</option>
                            <option>&#60; 30</option>
                            <option>&#60; 50</option>
                            <option>&#62; 50</option>
                        </select>
                        </div>
                    </div>
                </div>
            </header>
            <div class="row-padding" id="alist">
            </div>
        </div>

</html>

<script>
    getAcqList();
    function getAcqList(){
        $.ajax({
                url: '/functions',
                type: 'POST',
                contentType: 'application/json',
                dataType: 'json',
                data: JSON.stringify({func: 'getAcqList'}),
                success: (data) => {
                    var acquaintances = data.response;
                    var name = "";
                    var link = "";
                    for(a in acquaintances){
                        switch(acquaintances[a].alsoOn){
                            case 'lastfm':
                                name = acquaintances[a].acq.lastfm_username;
                                link = "https://www.last.fm/user/" + name;
                                break;
                            case 'twitter':
                                name = acquaintances[a].acq.twitter_username;
                                link = "https://twitter.com/" + name;
                                break;
                            case 'vk':
                                name = acquaintances[a].acq.vk_username;
                                link = "N/A";
                                break;
                        }
                        var node = `<div class='user_profile'><p><b>Name: ${name}</b></p><p>Real name: ${acquaintances[a].acq.fname} ${acquaintances[a].acq.lname} </p><p>From: You might know this person from <a target = '_blank' id="account_link" href = ${link}>${acquaintances[a].alsoOn}</a></p></div>`;
                        console.log(node);
                        $('#alist').append(node);
                    }
                }
            });
    }

    customSelect("filter-select age");
    customSelect("filter-select city");
    function customSelect(selectClassName){
        var select, i, j, setElement, selectedItem, optionList, option;
        select = document.getElementsByClassName(selectClassName)
        for(i = 0; i< select.length; i++){
            setElement = select[i].getElementsByTagName("select")[0];
            selectedItem = document.createElement("DIV");
            selectedItem.setAttribute("class", "select-selected");
            selectedItem.innerHTML = setElement.options[setElement.selectedIndex].innerHTML;
            select[i].appendChild(selectedItem);

            optionList = document.createElement("DIV");
            optionList.setAttribute("class", "select-items select-hide");
            for(j = 1; j < setElement.length; j++){
                option = document.createElement("DIV");
                option.innerHTML = setElement.options[j].innerHTML;
                option.addEventListener("click", function(e) {
                    var y, i, k, s, h;
                    s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                    h = this.parentNode.previousSibling;
                    for(i = 0; i<s.length; i++){
                        if(s.options[i].innerHTML == this.innerHTML) {
                            s.selectedIndex = i;
                            h.innerHTML = this.innerHTML;
                            y = this.parentNode.getElementsByClassName("same-as-selected");
                            for(k = 0; k < y.length; k++){
                                y[k].removeAttribute("class");
                            }
                            this.setAttribute("class", "same-as-selected");
                            break;
                        }
                    }
                    h.click();
                });
                optionList.appendChild(option);
            }
            select[i].appendChild(optionList);
            selectedItem.addEventListener("click", function(e){
                e.stopPropagation();
                closeAllSelect(this);
                this.nextSibling.classList.toggle("select-hide");
                this.classList.toggle("select-arrow-active");
            });
        }

        function closeAllSelect(element){
            var x, y, i, arrNo = [];
            x = document.getElementsByClassName("select-items");
            y = document.getElementsByClassName("select-selected");
            for(i = 0; i < y.length; i++){
                if(element == y[i]){
                    arrNo.push(i);
                } else {
                    y[i].classList.remove("select-arrow-active");
                }
            }

            for(i = 0; i<x.length; i++){
                if(arrNo.indexOf(i)){
                    x[i].classList.add("select-hide");
                }
            }
        }
        document.addEventListener("click", closeAllSelect);
    }

    function resetFilter(){
        select = document.getElementsByClassName("filter-select");
        for(i = 0; i < select.length; i++){
            b = select[i].getElementsByClassName("same-as-selected");
            for(j = 1; j < b.length; j++)
                b[j].removeAttribute("class");
            select[i].firstElementChild.options[select[i].firstElementChild.selectedIndex].removeAttribute("class");
            select[i].firstElementChild.options[0].setAttribute("class", "same-as-selected");
            select[i].firstElementChild.selectedIndex = 0;
            select[i].firstElementChild.value = 0;
            select[i].children[2].previousSibling.innerText = select[i].firstElementChild.options[0].text;


        }
    }
</script>